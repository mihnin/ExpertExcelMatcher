# ✅ БЫСТРЫЕ ЧЕКЛИСТЫ НАСТРОЙКИ

## 🎯 Какие чекбоксы включать для каждого режима

---

## 📝 РЕЖИМ 1: КОНКАТЕНАЦИЯ (Col1 + Col2)

### Когда использовать:
- ✅ Данные неструктурированные
- ✅ Нет чёткого разделения vendor/product
- ✅ Нужна максимальная скорость
- ✅ Простые случаи

### Настройка:

```
ОБЯЗАТЕЛЬНЫЕ ЧЕКБОКСЫ:
☑ Режим сравнения по 2 столбцам одновременно

РАДИОКНОПКА:
⦿ Конкатенация (Col1 + Col2)

РЕКОМЕНДУЕМЫЕ (нормализация):
☑ Удалять юридические формы
☑ Удалять версии
☐ Удалять стоп-слова (опционально)
☐ Транслитерация (опционально)
☑ Удалять пунктуацию (по умолчанию включено)
```

### Результат:
- **Точность**: ~80-85%
- **Скорость**: ⚡⚡⚡ Быстро (2-3 мин на 10K)

---

## 🎯 РЕЖИМ 2: ДВУХУРОВНЕВАЯ ФИЛЬТРАЦИЯ (Jupyter Notebook)

### Когда использовать:
- ✅ Данные структурированные (vendor → product)
- ✅ Важна максимальная точность
- ✅ Нужно избежать ложных совпадений
- ✅ Есть явная иерархия данных

### Настройка:

```
ОБЯЗАТЕЛЬНЫЕ ЧЕКБОКСЫ:
☑ Режим сравнения по 2 столбцам одновременно

РАДИОКНОПКА:
⦿ Двухуровневая фильтрация (Jupyter Notebook)

⚠️ ОБЯЗАТЕЛЬНЫЕ (нормализация):
☑ Удалять юридические формы     ← КРИТИЧНО!
☑ Удалять версии                ← КРИТИЧНО!
☑ Удалять стоп-слова
☑ Транслитерация
☑ Удалять пунктуацию

💡 Или просто: "✓ Включить все опции (рекомендуется)"
```

### ⚠️ ВАЖНО:
**Порядок столбцов имеет значение!**
- **ПЕРВЫЙ столбец** = Vendor/Вендор/Производитель
- **ВТОРОЙ столбец** = Product/Продукт/Название ПО

### Результат:
- **Точность**: ~90-95% (как в Jupyter Notebook!)
- **Скорость**: ⚡⚡ Средняя (4-5 мин на 10K)

---

## 📊 СРАВНИТЕЛЬНАЯ ТАБЛИЦА

| Параметр | Конкатенация | Двухуровневая |
|----------|--------------|---------------|
| **Режим по 2 столбцам** | ☑ ДА | ☑ ДА |
| **Радиокнопка** | ⦿ Конкатенация | ⦿ Двухуровневая |
| **Юридические формы** | ☑ рекоменд. | ☑ **ОБЯЗАТЕЛЬНО!** |
| **Версии** | ☑ рекоменд. | ☑ **ОБЯЗАТЕЛЬНО!** |
| **Стоп-слова** | ☐ опционально | ☑ рекоменд. |
| **Транслитерация** | ☐ опционально | ☑ рекоменд. |
| **Пунктуация** | ☑ по умолч. | ☑ по умолчанию |

---

## 🎮 ПРАКТИЧЕСКИЕ ПРИМЕРЫ

### Пример 1: Сопоставление ПО с вендорами

**Ваши данные:**
```
Источник 1:           Источник 2:
┌───────────┬────────┐ ┌──────────┬─────────┐
│ Вендор    │ ПО     │ │ Vendor   │ Product │
├───────────┼────────┤ ├──────────┼─────────┤
│ ООО 1С    │ 1С 8.3 │ │ 1C       │ Enterpr │
│ Microsoft │ Office │ │ MS Corp  │ Office  │
└───────────┴────────┘ └──────────┴─────────┘
```

**Рекомендация:**
```
☑ Режим сравнения по 2 столбцам
⦿ Двухуровневая фильтрация (Jupyter Notebook)
✓ Включить все опции (рекомендуется)
```

**Почему:**
- Есть чёткое разделение vendor/product
- Важна точность (не хотим "Oracle продукт" → "Oracle вендор")

---

### Пример 2: Описания и категории

**Ваши данные:**
```
Источник 1:
┌───────────────────────┬──────────────┐
│ Описание              │ Категория    │
├───────────────────────┼──────────────┤
│ Программа для PDF     │ Офисное ПО   │
│ Браузер для интернета │ Интернет     │
└───────────────────────┴──────────────┘
```

**Рекомендация:**
```
☑ Режим сравнения по 2 столбцам
⦿ Конкатенация (Col1 + Col2)
☑ Удалять юридические формы
☑ Удалять версии
```

**Почему:**
- Нет vendor/product структуры
- Просто два текстовых поля
- Конкатенация быстрее и проще

---

## ⚠️ ЧАСТЫЕ ОШИБКИ И РЕШЕНИЯ

### ❌ Ошибка 1: Двухуровневая БЕЗ нормализации

**Проблема:**
```
"ООО Microsoft" vs "Microsoft Corporation"
Score: 55% < 70% → vendor НЕ ПРОЙДЁТ ФИЛЬТР!
→ Продукт не будет найден вообще
```

**Решение:**
```
☑ Включите ВСЕ опции нормализации!
"microsoft" vs "microsoft corporation"
Score: 92% > 70% → ✅ ПРОХОДИТ!
```

---

### ❌ Ошибка 2: Неправильный порядок столбцов

**Проблема:**
```
Столбец 1: "Название ПО" (Product)  ← НЕПРАВИЛЬНО!
Столбец 2: "Вендор" (Vendor)        ← НЕПРАВИЛЬНО!

→ Алгоритм фильтрует по продукту, ищет вендора
→ Логика нарушена
```

**Решение:**
```
Столбец 1: "Вендор" (Vendor)       ← ПРАВИЛЬНО!
Столбец 2: "Название ПО" (Product) ← ПРАВИЛЬНО!

→ Сначала фильтр по вендору
→ Затем поиск продукта среди отфильтрованных
```

---

### ❌ Ошибка 3: Конкатенация для малых данных

**Проблема:**
```
Датасет: 100 записей
Режим: Конкатенация
Результат: Точность 75%
```

**Решение:**
```
Датасет: 100 записей
Режим: Двухуровневая фильтрация + ВСЕ опции
Результат: Точность 92% ✅

Для малых данных (< 1K) ВСЕГДА используйте
двухуровневую фильтрацию!
```

---

## 🚀 БЫСТРЫЕ ЧЕКЛИСТЫ

### ДЛЯ КОНКАТЕНАЦИИ:

```
1. □ Загрузить файлы
2. □ Выбрать 2 столбца в каждом источнике
3. □ ☑ Режим сравнения по 2 столбцам
4. □ ⦿ Конкатенация (Col1 + Col2)
5. □ ☑ Удалять юридические формы
6. □ ☑ Удалять версии
7. □ ☑ Удалять пунктуацию
8. □ Выбрать методы (Ctrl для множественного выбора)
9. □ 🚀 Начать обработку
```

---

### ДЛЯ ДВУХУРОВНЕВОЙ ФИЛЬТРАЦИИ:

```
1. □ Загрузить файлы
2. □ Выбрать 2 столбца в ПРАВИЛЬНОМ порядке:
      ПЕРВЫЙ = Vendor, ВТОРОЙ = Product
3. □ ☑ Режим сравнения по 2 столбцам
4. □ ⦿ Двухуровневая фильтрация (Jupyter Notebook)
5. □ Нажать "✓ Включить все опции (рекомендуется)"
6. □ Выбрать методы (рекомендуется WRatio или все)
7. □ 🚀 Начать обработку
```

---

## 💡 ПОДСКАЗКИ

### Как проверить, что всё настроено правильно?

**Для двухуровневой фильтрации:**
```
✓ Галка "Режим сравнения по 2 столбцам" стоит
✓ Радиокнопка "Двухуровневая фильтрация" выбрана
✓ ВСЕ 5 чекбоксов нормализации включены
✓ Первый столбец = vendor (проверьте названия!)
✓ Второй столбец = product (проверьте названия!)
```

**Для конкатенации:**
```
✓ Галка "Режим сравнения по 2 столбцам" стоит
✓ Радиокнопка "Конкатенация" выбрана
✓ Минимум 2 чекбокса нормализации включены
  (юридические формы + версии)
```

---

## 📈 ОЖИДАЕМЫЕ РЕЗУЛЬТАТЫ

### Конкатенация:

| Нормализация | Точность | Время (10K) |
|--------------|----------|-------------|
| Нет | 60-70% | 2 мин |
| Минимальная (2 опции) | 75-80% | 2.5 мин |
| Полная (5 опций) | 80-85% | 3 мин |

### Двухуровневая фильтрация:

| Нормализация | Точность | Время (10K) |
|--------------|----------|-------------|
| Нет | ⚠️ 40-50% | 4 мин |
| Минимальная (2 опции) | 70-75% | 4.5 мин |
| **Полная (5 опций)** | **90-95%** | **5 мин** |

⚠️ **ВАЖНО**: Без нормализации двухуровневая фильтрация
работает ХУЖЕ конкатенации! Всегда включайте все опции!

---

## 🎯 ИТОГОВЫЕ РЕКОМЕНДАЦИИ

### Малые данные (< 1K):
```
⦿ Двухуровневая фильтрация
☑ ВСЕ опции нормализации
Режим: Полное сравнение (все методы)
Время: ~5-10 мин
Точность: МАКСИМАЛЬНАЯ (90-95%)
```

### Средние данные (1K-10K):
```
⦿ Двухуровневая фильтрация (если структурированные)
⦿ Конкатенация (если неструктурированные)
☑ Минимум: юридические формы + версии
Режим: Автоматический
Время: ~3-5 мин
Точность: ВЫСОКАЯ (80-90%)
```

### Большие данные (> 10K):
```
⦿ Конкатенация (быстрее)
☑ Юридические формы + версии
Режим: Автоматический (топ-5 методов)
Время: ~5-10 мин
Точность: ХОРОШАЯ (75-85%)
```

---

**Версия**: 2.3.0
**Дата**: 2025-10-22

🎯 **Правильная настройка = высокая точность!**
